<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>登录</title>
    <link rel="stylesheet" href="/js/moban3897/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/js/moban3897/css/style.css">

    <script src="/js/jquery-3.3.1.js"></script>
    <script src="/js/moban3897/js/index.js"></script>

</head>
<body>
<div id="navDiv"></div>
<div class="materialContainer">
    <div class="box">
        <div class="title">登录</div>
        <div class="input">
            <label for="meName">用户名</label>
            <input type="text" name="meName" id="meName">
            <span class="spin"></span>
        </div>
        <div class="input">
            <label for="password">密码</label>
            <input type="password" name="password" id="password">
            <span class="spin"></span>
        </div>
        <div><input type="submit" value="登录" onclick="login()"></div>
    </div>
        <a href="javascript:" class="pass-forgot">忘记密码？</a>
    </div>
</div>

<script type="text/javascript">

    //登陆方法
    function login(){
        var meName= $("#meName").val();
        var password= $("#password").val();
        if (null != meName && ''!=meName){
            if(null != password && ''!=password){
                $.ajax({
                    type:"post",
                    url:"http://localhost:8086/members/login.do",
                    dataType:'json',
                    data:{"meName":meName,"password":password},
                    async:false,
                    success:function(data){
                        if(data.status==200) {
                            window.localStorage.setItem("atoken",data.data);
                            window.location.href="shop.html";
                        }
                    }
                })
            }else {
                alert("密码不能为空")
            }
        }else {
            alert("会员名称不能为空")
        }
    }
</script>
</body>
</html>